# 万濮云 (SweaterCraft Pro) 项目进度总结

### 1. 项目概况
- **类型**：针织毛衫开发全生命周期管理系统 (SaaS)。
- **技术栈**：Next.js 15 (App Router), Prisma ORM, SQLite, Tailwind CSS 4, Lucide Icons。
- **环境配置**：已优化 Server Actions 传输限制至 100MB，适配大附件上传。

### 2. 已完成核心功能
- **款式管理 (Product)**：
    - 全面 CRUD：支持录入、编辑、归档、彻底删除。
    - **安全删除**：仅允许删除未开始开发（所有节点为待开始）的款式。
    - **智能录入**：新增款式时自动记忆上一个产品的字段名（如针型、成分等），提升效率。
- **样品轮次 (Sample Versions)**：
    - 支持头样、二样、大货样等多轮次管理，数据完全隔离。
- **节点开发记录 (Stage Management)**：
    - **状态流转**：支持待开始、进行中、已完成、异常四种状态，具备自动顺序流转逻辑。
    - **核心工艺登记**：支持动态工艺参数名记忆，自动带出相同节点名称的历史参数名。
    - **交互优化**：支持忘记点“+”号时自动合并输入内容保存；时间轴自动过滤显示空值参数。
    - **附件系统**：支持图片、PDF、压缩包 (.zip/.rar) 上传。采用 Base64 持久化存储，支持在线预览与一键下载。
- **侧边栏与筛选**：
    - 模糊搜索 + 状态 Tab 切换。
    - **高级筛选**：支持按同步状态、当前停滞节点进行组合筛选，并实时反馈筛选标签。
- **云端发布**：
    - 已部署至 **Zeabur**，通过挂载 `/data` 卷实现 SQLite 数据库的云端持久化存储。

### 3. 核心文件结构
- `app/actions.ts`: 封装所有服务端操作逻辑 (Server Actions)。
- `app/page.tsx`: 仪表盘状态中心，负责数据分发与 Modal 控制。
- `prisma/schema.prisma`: 核心模型定义（Product, Sample, Stage, Attachment, Template）。
- `components/modals/`: 包含录入、节点登记、日志等核心交互组件。
- `next.config.mjs`: 已配置 100MB 传输上限。

### 4. 待办事项 / 扩展建议
- **权限系统**：引入多角色（设计、生产、外发）权限控制。
- **数据导出**：一键生成 PDF 或 Excel 格式的正式工艺单。
- **仪表盘统计**：增加开发进度饼图、异常环节排行等可视化指标。
