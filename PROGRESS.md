# 万濮云 (SweaterCraft Pro) 项目进度总结

### 1. 项目概况
- **类型**：毛衫开发管理系统。
- **技术栈**：Next.js (App Router), Prisma, SQLite, Tailwind CSS, Lucide Icons。

### 2. 已完成核心功能
- **款式管理**：支持录入新款、编辑基本信息（货号、品名、封面图、自定义扩展字段）。
- **流程模板**：支持在录入时选择或新增流程节点，且新节点名会自动保存至模板库供后续快速选择。
- **样品轮次 (Sample Versions)**：支持创建多轮开发（头样、二样、三样等），支持带确认提示的删除功能。
- **节点开发记录 (Stage Management)**：
    - 状态管理（待开始、进行中、已完成、异常/退回）。
    - 自动流转（上个节点点击“完成”，下个节点自动变为“进行中”）。
    - 附件管理：支持图片、PDF、文档及压缩包 (.zip, .rar) 上传。
    - 预览与下载：支持附件在线预览，并提供一键下载功能，满足资料流转需求。
- **配置优化**：
    - 提升了服务器传输限制 (Server Actions Body Limit) 至 50MB，支持大文件上传。
- **侧边栏 (ProductSidebar)**：
    - 模糊搜索（货号、品名）。
    - 状态切换（开发中/已归档）及各状态下的数量统计。
    - 筛选反馈：增加了“筛选标签 (Filter Chips)”显示，用户能清楚看到当前的筛选条件并一键清除。
    - 异常提醒：存在“异常”节点的款式会在侧边栏显示脉冲红点。

### 3. 核心文件结构
- `app/actions.ts`: 所有的数据库操作逻辑 (Server Actions)。
- `app/page.tsx`: 主仪表盘逻辑，负责状态管理和数据分发。
- `prisma/schema.prisma`: 数据库定义（Product, SampleVersion, Stage, Attachment, StageTemplate）。
- `components/`: 包含侧边栏、主内容区及各种弹窗组件。

### 4. 待办事项 / 扩展建议
- 优化多条件组合筛选的底层逻辑。
- 款式数据导出的功能。
- 更加细致的操作日志审计。

